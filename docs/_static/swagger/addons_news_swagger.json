{
  "openapi" : "3.0.1",
  "info" : {
    "title" : "News Rest APIs",
    "description" : "News addon used Rest endpoints",
    "license" : {
      "name" : "AGPL",
      "url" : "https://www.gnu.org/licenses/agpl-3.0.en.html"
    },
    "version" : "1.0"
  },
  "paths" : {
    "/v1/news" : {
      "get" : {
        "operationId" : "getNews",
        "parameters" : [ {
          "name" : "author",
          "in" : "query",
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "spaces",
          "in" : "query",
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "filter",
          "in" : "query",
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "text",
          "in" : "query",
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "offset",
          "in" : "query",
          "schema" : {
            "type" : "integer",
            "format" : "int32"
          }
        }, {
          "name" : "limit",
          "in" : "query",
          "schema" : {
            "type" : "integer",
            "format" : "int32"
          }
        }, {
          "name" : "returnSize",
          "in" : "query",
          "schema" : {
            "type" : "boolean"
          }
        } ],
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "application/json" : { }
            }
          }
        }
      },
      "post" : {
        "operationId" : "createNews",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/News"
              }
            }
          }
        },
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "application/json" : { }
            }
          }
        }
      }
    },
    "/v1/news/attachments/{attachmentId}" : {
      "get" : {
        "operationId" : "getNewsAttachmentById",
        "parameters" : [ {
          "name" : "attachmentId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "application/json" : { }
            }
          }
        }
      }
    },
    "/v1/news/attachments/{attachmentId}/file" : {
      "get" : {
        "operationId" : "getNewsAttachmentBinaryById",
        "parameters" : [ {
          "name" : "attachmentId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "*/*" : { }
            }
          }
        }
      }
    },
    "/v1/news/attachments/{attachmentId}/open" : {
      "get" : {
        "operationId" : "openNewsAttachmentById",
        "parameters" : [ {
          "name" : "attachmentId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "*/*" : { }
            }
          }
        }
      }
    },
    "/v1/news/byActivity/{activityId}" : {
      "get" : {
        "operationId" : "getNewsByActivityId",
        "parameters" : [ {
          "name" : "activityId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "application/json" : { }
            }
          }
        }
      }
    },
    "/v1/news/byTarget/{targetName}" : {
      "get" : {
        "operationId" : "getNewsByTarget",
        "parameters" : [ {
          "name" : "targetName",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "offset",
          "in" : "query",
          "schema" : {
            "type" : "integer",
            "format" : "int32"
          }
        }, {
          "name" : "limit",
          "in" : "query",
          "schema" : {
            "type" : "integer",
            "format" : "int32"
          }
        }, {
          "name" : "returnSize",
          "in" : "query",
          "schema" : {
            "type" : "boolean"
          }
        } ],
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "application/json" : { }
            }
          }
        }
      }
    },
    "/v1/news/canCreateNews/{spaceId}" : {
      "get" : {
        "operationId" : "canCreateNews",
        "parameters" : [ {
          "name" : "spaceId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "text/plain" : { }
            }
          }
        }
      }
    },
    "/v1/news/canPublishNews" : {
      "get" : {
        "operationId" : "canPublishNews",
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "text/plain" : { }
            }
          }
        }
      }
    },
    "/v1/news/canScheduleNews/{spaceId}" : {
      "get" : {
        "operationId" : "canScheduleNews",
        "parameters" : [ {
          "name" : "spaceId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "text/plain" : { }
            }
          }
        }
      }
    },
    "/v1/news/markAsRead/{id}" : {
      "post" : {
        "operationId" : "markNewsAsRead",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "text/plain" : { }
            }
          }
        }
      }
    },
    "/v1/news/schedule" : {
      "patch" : {
        "operationId" : "scheduleNews",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/News"
              }
            }
          }
        },
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "application/json" : { }
            }
          }
        }
      }
    },
    "/v1/news/search" : {
      "get" : {
        "operationId" : "search",
        "parameters" : [ {
          "name" : "query",
          "in" : "query",
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "expand",
          "in" : "query",
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "offset",
          "in" : "query",
          "schema" : {
            "type" : "integer",
            "format" : "int32"
          }
        }, {
          "name" : "tags",
          "in" : "query",
          "schema" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            }
          }
        }, {
          "name" : "limit",
          "in" : "query",
          "schema" : {
            "type" : "integer",
            "format" : "int32"
          }
        }, {
          "name" : "favorites",
          "in" : "query",
          "schema" : {
            "type" : "boolean"
          }
        } ],
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "application/json" : { }
            }
          }
        }
      }
    },
    "/v1/news/targeting" : {
      "get" : {
        "operationId" : "getTargets",
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "application/json" : { }
            }
          }
        }
      },
      "post" : {
        "operationId" : "createNewsTarget",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/NewsTargetingEntity"
              }
            }
          }
        },
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "application/json" : { }
            }
          }
        }
      }
    },
    "/v1/news/targeting/referenced" : {
      "get" : {
        "operationId" : "getReferencedTargets",
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "application/json" : { }
            }
          }
        }
      }
    },
    "/v1/news/targeting/{originalTargetName}" : {
      "put" : {
        "operationId" : "updateNewsTarget",
        "parameters" : [ {
          "name" : "originalTargetName",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/NewsTargetingEntity"
              }
            }
          }
        },
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "application/json" : { }
            }
          }
        }
      }
    },
    "/v1/news/targeting/{targetName}" : {
      "delete" : {
        "operationId" : "deleteTarget",
        "parameters" : [ {
          "name" : "targetName",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "delay",
          "in" : "query",
          "schema" : {
            "type" : "integer",
            "format" : "int64"
          }
        } ],
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "application/json" : { }
            }
          }
        }
      }
    },
    "/v1/news/targeting/{targetName}/undoDelete" : {
      "post" : {
        "operationId" : "undoDeleteTarget",
        "parameters" : [ {
          "name" : "targetName",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "*/*" : { }
            }
          }
        }
      }
    },
    "/v1/news/{id}" : {
      "get" : {
        "operationId" : "getNewsById",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "fields",
          "in" : "query",
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "editMode",
          "in" : "query",
          "schema" : {
            "type" : "boolean"
          }
        } ],
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "application/json" : { }
            }
          }
        }
      },
      "put" : {
        "operationId" : "updateNews",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "post",
          "in" : "query",
          "schema" : {
            "type" : "boolean"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/News"
              }
            }
          }
        },
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "application/json" : { }
            }
          }
        }
      },
      "delete" : {
        "operationId" : "deleteNews",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "isDraft",
          "in" : "query",
          "schema" : {
            "type" : "boolean"
          }
        }, {
          "name" : "delay",
          "in" : "query",
          "schema" : {
            "type" : "integer",
            "format" : "int64"
          }
        } ],
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "application/json" : { }
            }
          }
        }
      },
      "patch" : {
        "operationId" : "patchNews",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/News"
              }
            }
          }
        },
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "*/*" : { }
            }
          }
        }
      }
    },
    "/v1/news/{id}/click" : {
      "post" : {
        "operationId" : "clickOnNews",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "*/*" : {
              "schema" : {
                "type" : "string"
              }
            }
          }
        },
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "*/*" : { }
            }
          }
        }
      }
    },
    "/v1/news/{id}/illustration" : {
      "get" : {
        "operationId" : "getNewsIllustration",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "v",
          "in" : "query",
          "schema" : {
            "type" : "integer",
            "format" : "int64"
          }
        } ],
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "*/*" : { }
            }
          }
        }
      }
    },
    "/v1/news/{id}/undoDelete" : {
      "post" : {
        "operationId" : "undoDeleteNews",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "default" : {
            "description" : "default response",
            "content" : {
              "*/*" : { }
            }
          }
        }
      }
    }
  },
  "components" : {
    "schemas" : {
      "Metadata" : {
        "type" : "object",
        "properties" : {
          "audienceId" : {
            "type" : "integer",
            "format" : "int64"
          },
          "createdDate" : {
            "type" : "integer",
            "format" : "int64"
          },
          "creatorId" : {
            "type" : "integer",
            "format" : "int64"
          },
          "id" : {
            "type" : "integer",
            "format" : "int64"
          },
          "name" : {
            "type" : "string"
          },
          "properties" : {
            "type" : "object",
            "additionalProperties" : {
              "type" : "string"
            }
          },
          "type" : {
            "$ref" : "#/components/schemas/MetadataType"
          },
          "typeName" : {
            "type" : "string"
          }
        }
      },
      "MetadataItem" : {
        "type" : "object",
        "properties" : {
          "createdDate" : {
            "type" : "integer",
            "format" : "int64"
          },
          "creatorId" : {
            "type" : "integer",
            "format" : "int64"
          },
          "id" : {
            "type" : "integer",
            "format" : "int64"
          },
          "metadata" : {
            "$ref" : "#/components/schemas/Metadata"
          },
          "metadataTypeName" : {
            "type" : "string"
          },
          "object" : {
            "$ref" : "#/components/schemas/MetadataObject"
          },
          "objectId" : {
            "type" : "string"
          },
          "objectType" : {
            "type" : "string"
          },
          "parentObjectId" : {
            "type" : "string"
          },
          "properties" : {
            "type" : "object",
            "additionalProperties" : {
              "type" : "string"
            }
          },
          "spaceId" : {
            "type" : "integer",
            "format" : "int64"
          }
        }
      },
      "MetadataObject" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string"
          },
          "parentId" : {
            "type" : "string"
          },
          "spaceId" : {
            "type" : "integer",
            "format" : "int64"
          },
          "type" : {
            "type" : "string"
          }
        }
      },
      "MetadataType" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "integer",
            "format" : "int64"
          },
          "name" : {
            "type" : "string"
          }
        }
      },
      "News" : {
        "type" : "object",
        "properties" : {
          "activities" : {
            "type" : "string"
          },
          "activityId" : {
            "type" : "string"
          },
          "activityPosted" : {
            "type" : "boolean"
          },
          "archived" : {
            "type" : "boolean"
          },
          "attachments" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/NewsAttachment"
            }
          },
          "author" : {
            "type" : "string"
          },
          "authorAvatarUrl" : {
            "type" : "string"
          },
          "authorDisplayName" : {
            "type" : "string"
          },
          "body" : {
            "type" : "string"
          },
          "canArchive" : {
            "type" : "boolean"
          },
          "canDelete" : {
            "type" : "boolean"
          },
          "canEdit" : {
            "type" : "boolean"
          },
          "canPublish" : {
            "type" : "boolean"
          },
          "commentsCount" : {
            "type" : "integer",
            "format" : "int32"
          },
          "creationDate" : {
            "type" : "string",
            "format" : "date-time"
          },
          "draftUpdateDate" : {
            "type" : "string",
            "format" : "date-time"
          },
          "draftUpdater" : {
            "type" : "string"
          },
          "draftUpdaterDisplayName" : {
            "type" : "string"
          },
          "draftUpdaterUserName" : {
            "type" : "string"
          },
          "draftVisible" : {
            "type" : "boolean"
          },
          "hiddenSpace" : {
            "type" : "boolean"
          },
          "id" : {
            "type" : "string"
          },
          "illustration" : {
            "type" : "array",
            "items" : {
              "type" : "string",
              "format" : "byte"
            }
          },
          "illustrationURL" : {
            "type" : "string"
          },
          "illustrationUpdateDate" : {
            "type" : "string",
            "format" : "date-time"
          },
          "likesCount" : {
            "type" : "integer",
            "format" : "int32"
          },
          "metadatas" : {
            "type" : "object",
            "additionalProperties" : {
              "type" : "array",
              "items" : {
                "$ref" : "#/components/schemas/MetadataItem"
              }
            }
          },
          "originalBody" : {
            "type" : "string"
          },
          "path" : {
            "type" : "string"
          },
          "publicationDate" : {
            "type" : "string",
            "format" : "date-time"
          },
          "publicationState" : {
            "type" : "string"
          },
          "publishDate" : {
            "type" : "string",
            "format" : "date-time"
          },
          "published" : {
            "type" : "boolean"
          },
          "schedulePostDate" : {
            "type" : "string"
          },
          "sharedInSpacesList" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            }
          },
          "spaceAvatarUrl" : {
            "type" : "string"
          },
          "spaceDisplayName" : {
            "type" : "string"
          },
          "spaceId" : {
            "type" : "string"
          },
          "spaceMember" : {
            "type" : "boolean"
          },
          "spaceUrl" : {
            "type" : "string"
          },
          "summary" : {
            "type" : "string"
          },
          "targets" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            }
          },
          "timeZoneId" : {
            "type" : "string"
          },
          "title" : {
            "type" : "string"
          },
          "updateDate" : {
            "type" : "string",
            "format" : "date-time"
          },
          "updater" : {
            "type" : "string"
          },
          "updaterFullName" : {
            "type" : "string"
          },
          "uploadId" : {
            "type" : "string"
          },
          "url" : {
            "type" : "string"
          },
          "viewsCount" : {
            "type" : "integer",
            "format" : "int64"
          }
        }
      },
      "NewsAttachment" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string"
          },
          "mimetype" : {
            "type" : "string"
          },
          "name" : {
            "type" : "string"
          },
          "size" : {
            "type" : "integer",
            "format" : "int32"
          },
          "uploadId" : {
            "type" : "string"
          }
        }
      },
      "NewsTargetingEntity" : {
        "type" : "object",
        "properties" : {
          "name" : {
            "type" : "string"
          },
          "properties" : {
            "type" : "object",
            "additionalProperties" : {
              "type" : "string"
            }
          }
        }
      }
    }
  }
}